---
title: "리액트 네이티브 빌드 후 앱 크래시"
date: 2021-03-01 00:00:00
categories: journal
---

빌드하는데 엄청 고생했다.

문제의 원인을 찾는데 시간이 너무 많이 걸렸다. 일단 문제는 빌드 후 앱이 크래시가 나는 현상이었다. 문제를 쪼개봤다.

- 빌드 시 문제
- 빌드 후 앱의 코드 문제

나는 빌드 자체에 문제가 있을 것이라고 생각해서 빌드에 필요한 모든 옵션을 고려하며 반복했다. 빌드 전의 앱이 잘 돌아갔기에 앱의 코드에 문제가 있을 것이라는 생각을 하지 못했다.

하지만 새로운 앱을 만들어 똑같은 빌드 프로세스를 거쳤을 때 문제가 없다는 것을 확인했다. 그래서 기존 앱의 코드를 주석 처리해가며 문제의 원인을 찾기 시작했다.

결국 문제는 디버깅을 위해 설치한 reactotron이라는 것을 알게 되었다.

```
const store = createStore(rootReducer, compose(applyMiddleware(ReduxThunk), __DEV__ && Reactotron.createEnhancer())); // rootReducer

```

enhancer 부분에 DEV일 때만 리액트 트론을 실행하고 있었는데 이 부분 때문에 앱이 크래시가 났다.

문제의 원인을 알고 나면 별 것 아닌 것 같지만 아무것도 모르는 상태에서 문제의 원인을 찾아가기란 어려운 것 같다. 미리 답을 다 알고 있으면 얼마나 좋을까....

앱이 빌드 된 뒤 크래시가 난다면 빌드 자체가 성공적으로 됐다면 앱의 코드를 하나씩 주석 처리 해가며 빌드 버전에서 크래쉬가 나는 부분이 어디인지 파악하는게 좋을 것 같다. 아니면 개발 도중에 한번씩 빌드를 해주며 확인하는 것도 나쁘지 않은것 같다.

굿럿 굿빌드...
