---
title: "오브젝트 노트 수정하기"
date: 2021-02-10 00:00:00
categories: journal
---

# 데일리 로그

## timeIndex 구현

현재 시간의 인덱스를 계산하는 식에 문제가 있어서 수정했다. moment js를 사용하려고 홈페이지에 가봤는데 다른 라이브러리를 사용하라고 권장했다. momentjs는 용량이 크고 메이저 업데이트도 없을거라고 했다. 너무 솔직해서 놀랐다. 대신 luxon이나 date-fns 등을 사용하라고 했다. 아니면 자바스트립트의 date 객체를 그냥 사용해도 된다. 나는 자스의 데이트 객체를 그냥 사용하기로 했다. 어차피 시간 관련해서 많이 쓰지도 않고 말이다.

js로 하루 시작 시간과 하루가 끝나는 시간은 다음과 같이 구현하면 된다.

```
var start = new Date();
start.setHours(0,0,0,0);

var end = new Date();
end.setHours(23,59,59,999);

alert( start.toUTCString() + ':' + end.toUTCString() );
```

자바스크립트에서 데이트 객체를 사용하면 월이나 일 앞에 0이 표시 되지 않는데 다음과 같이 해결하면 된다.

```
MyDateString = ('0' + MyDate.getDate()).slice(-2) + '/' + ('0' + (MyDate.getMonth()+1)).slice(-2) + '/' + MyDate.getFullYear();

```

이렇게 하면 1/2/2021 대신 01/02/2021 이런 식으로 표현된다. 숫자 앞에 0을 붙이고 뒤의 두자리 수를 자르면 01, 02와 같은 형태가 만들어 지는 방식이다. 예를 들면 10은 010이 되고 뒤의 두 자리수를 자르면 10이 된다.

## 잔잔바리 치기

이제 베이스가 어느정도 갖춰져서 사용하기에 편리한 기능들을 반영하려고 한다. 버그가 없는 앱보다 내가 사용하기 편리한 앱을 만드는게 먼저일 것 같다.

달력을 도입해서 날짜 선택 기능을 만들었고 [react-native-calendars](https://github.com/wix/react-native-calendars) 사용.

flatlist의 코드를 정리했다. 원래 상대적으로 변수를 불러와서 렌더링을 해주었는데 절대적으로 불러와서 바꿔서 안정성을 조금 낫게 만들었다.

react navigation tab바의 lazy를 false로 해줘서 탭 간 전환할 때 느린 문제를 임시조치 해놓았다. 하지만 lazy false는 처음 로딩할 때 탭의 모든 컴포넌트를 로딩해서 리소스를 많이 쓴다.

수정하지 못했던 css 문제도 몇 가지 해결했다.

내일부터는 작은 기능들을 잔잔하게 칠 것 같다. 오브젝트 구조를 바꿔야 할 것 같은데 지금하면 일이 커질 것 같아 주말 정도로 미루려고 한다.

약간 전략맵같은 노트를 만들려고 한다.

인생을 게임처럼 살면 재미있지 않을까?
